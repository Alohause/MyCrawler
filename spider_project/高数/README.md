# B站评论爬虫

该项目为一个基于 Python 的简单爬虫，用于抓取B站视频下的热门评论及用户信息，并保存为 csv 文件，便于后续进行文本分析或词云生成等操作。

---

## 功能概述

- 抓取指定 B 站视频的 **热门评论**
- 提取评论用户的：
  - 昵称
  - 性别
  - IP 属地
  - 评论内容
- 自动生成签名参数以绕过接口校验（`wts` 和 `w_rid`）
- 支持分页抓取
- 输出结果保存为 `bdata4.csv`

---

## 安装依赖

本脚本依赖标准库和第三方库：`pip install requests`

---

## 使用说明
打开 `高数.py` 文件。

修改 oid 参数为你要抓取的视频 oid， 可通过网页调试工具或接口查看获得。

运行完成后，将在当前目录生成： `bdata4.csv`

---

## 参数说明
- **oid**：视频的评论区唯一编号
- **page_size**：每页评论数（最多 20）
- **page**：页码，默认从 1 开始逐页抓取
- **wts**：时间戳（自动生成）
- **w_rid**：签名参数，用于 B 站接口校验（自动生成）

---

## 输出格式（CSV 示例）
|用户昵称|性别|IP|评论内容|
|---|---|---|---|
|小明|男|广东|233333|
|Alice|女|上海|哈哈哈哈笑死我了|

---

## 注意事项
- 请勿频繁请求，避免触发 B站反爬机制
- 若返回数据为空，可能是 oid 不正确或接口签名逻辑已变
- 本脚本为学习用途，请遵守相关平台服务协议

---

## 项目结构
- **高数.py** : 主爬虫脚本
- **bdata4.csv** :评论数据输出文件

---

## 声明
本项目仅用于技术学习与交流，请勿用于商业用途或数据滥用。